(this["webpackJsonpkanban-board"]=this["webpackJsonpkanban-board"]||[]).push([[0],{15:function(e,t,d){},16:function(e,t,d){},24:function(e,t,d){},25:function(e,t,d){},30:function(e,t,d){},31:function(e,t,d){},32:function(e,t,d){},33:function(e,t,d){},34:function(e,t,d){},41:function(e,t,d){"use strict";d.r(t);var a=d(1),c=d.n(a),s=d(17),n=d.n(s),r=(d(24),d(42)),l=(d(25),d(0));var i=function(e){const[t,d]=Object(a.useState)(!1),[c,s]=Object(a.useState)(e.defaultValue||"");return Object(l.jsx)("div",{className:"editable",children:t?Object(l.jsxs)("form",{className:"editable_edit ".concat(e.editClass?e.editClass:""),onSubmit:t=>{t.preventDefault(),c&&e.onSubmit&&(s(""),e.onSubmit(c)),d(!1)},children:[Object(l.jsx)("input",{type:"text",value:c,placeholder:e.placeholder||e.text,onChange:e=>s(e.target.value),autoFocus:!0}),Object(l.jsxs)("div",{className:"editable_edit_footer",children:[Object(l.jsx)("button",{type:"submit",children:e.buttonText||"Add"}),Object(l.jsx)(r.a,{onClick:()=>d(!1),className:"closeIcon"})]})]}):Object(l.jsx)("p",{className:"editable_display ".concat(e.displayClass?e.displayClass:""),onClick:()=>d(!0),children:e.text})})},o=d(51),b=(d(4),d(49)),j=d(50),x=d(47);d(30);var u=function(e){const t=Object(a.useRef)(),d=d=>{var a;!t||null!==(a=t.current)&&void 0!==a&&a.contains(d.target)||!e.onClose||e.onClose()};return Object(a.useEffect)((()=>(document.addEventListener("click",d),()=>{document.removeEventListener("click",d)}))),Object(l.jsx)("div",{ref:t,className:"dropdown custom-scroll ".concat(e.class?e.class:""),children:e.children})},v=(d(31),d(43)),O=d(44),m=d(45),p=d(46),h=d(48);d(32);var f=function(e){return Object(l.jsx)("div",{className:"modal",onClick:()=>e.onClose?e.onClose():"",children:Object(l.jsx)("div",{className:"modal_content custom-scroll",onClick:e=>e.stopPropagation(),children:e.children})})};d(33);var _=function(e){var t,d;const[c,s]=Object(a.useState)(),[n,o]=Object(a.useState)({...e.card}),b=()=>{var e,t,d,a;if(null===(e=n.tasks)||void 0===e||!e.length)return 0;return(null===(t=n.tasks)||void 0===t||null===(d=t.filter((e=>e.completed)))||void 0===d?void 0:d.length)/(null===(a=n.tasks)||void 0===a?void 0:a.length)*100};return Object(a.useEffect)((()=>{e.updateCard&&e.updateCard(e.boardId,n.id,n)}),[n]),Object(l.jsx)(f,{onClose:e.onClose,children:Object(l.jsxs)("div",{className:"cardinfo",children:[Object(l.jsxs)("div",{className:"cardinfo_box",children:[Object(l.jsxs)("div",{className:"cardinfo_box_title",children:[Object(l.jsx)(v.a,{}),Object(l.jsx)("p",{children:"Title"})]}),Object(l.jsx)(i,{defaultValue:n.title,text:n.title,placeholder:"Enter Title",onSubmit:e=>{o({...n,title:e})}})]}),Object(l.jsxs)("div",{className:"cardinfo_box",children:[Object(l.jsxs)("div",{className:"cardinfo_box_title",children:[Object(l.jsx)(O.a,{}),Object(l.jsx)("p",{children:"Description"})]}),Object(l.jsx)(i,{defaultValue:n.desc,text:n.desc||"Add a Description",placeholder:"Enter description",onSubmit:e=>{o({...n,desc:e})}})]}),Object(l.jsxs)("div",{className:"cardinfo_box",children:[Object(l.jsxs)("div",{className:"cardinfo_box_title",children:[Object(l.jsx)(m.a,{}),Object(l.jsx)("p",{children:"Date"})]}),Object(l.jsx)("input",{type:"date",defaultValue:n.date,min:(new Date).toISOString().substr(0,10),onChange:e=>{var t;(t=e.target.value)&&o({...n,date:t})}})]}),Object(l.jsxs)("div",{className:"cardinfo_box",children:[Object(l.jsxs)("div",{className:"cardinfo_box_title",children:[Object(l.jsx)(p.a,{}),Object(l.jsx)("p",{children:"Labels"})]}),Object(l.jsx)("div",{className:"cardinfo_box_labels",children:null===(t=n.labels)||void 0===t?void 0:t.map(((e,t)=>Object(l.jsxs)("label",{style:{backgroundColor:e.color,color:"#fff"},children:[e.text,Object(l.jsx)(r.a,{onClick:()=>(e=>{const t=n.labels.filter((t=>t.text!==e.text));o({...n,labels:t})})(e)})]},t)))}),Object(l.jsx)("ul",{children:["#a8193d","#4fcc25","#1ebffa","#8da377","#9975bd","#cf61a1","#240959"].map(((e,t)=>Object(l.jsx)("li",{style:{backgroundColor:e},className:c===e?"li_active":"",onClick:()=>s(e)},t+e)))}),Object(l.jsx)(i,{text:"Add Label",placeholder:"Enter label text",onSubmit:e=>{return t={color:c,text:e},void(n.labels.findIndex((e=>e.text===t.text))>-1||(s(""),o({...n,labels:[...n.labels,t]})));var t}})]}),Object(l.jsxs)("div",{className:"cardinfo_box",children:[Object(l.jsxs)("div",{className:"cardinfo_box_title",children:[Object(l.jsx)(x.a,{}),Object(l.jsx)("p",{children:"Tasks"})]}),Object(l.jsx)("div",{className:"cardinfo_box_progress-bar",children:Object(l.jsx)("div",{className:"cardinfo_box_progress",style:{width:"".concat(b(),"%"),backgroundColor:100===b()?"limegreen":""}})}),Object(l.jsx)("div",{className:"cardinfo_box_task_list",children:null===(d=n.tasks)||void 0===d?void 0:d.map((e=>Object(l.jsxs)("div",{className:"cardinfo_box_task_checkbox",children:[Object(l.jsx)("input",{type:"checkbox",defaultChecked:e.completed,onChange:t=>((e,t)=>{const d=[...n.tasks],a=d.findIndex((t=>t.id===e));a<0||(d[a].completed=t,o({...n,tasks:d}))})(e.id,t.target.checked)}),Object(l.jsx)("p",{className:e.completed?"completed":"",children:e.text}),Object(l.jsx)(h.a,{onClick:()=>(e=>{const t=[...n.tasks].filter((t=>t.id!==e));o({...n,tasks:t})})(e.id)})]},e.id)))}),Object(l.jsx)(i,{text:"Add a Task",placeholder:"Enter task",onSubmit:e=>{const t={id:Date.now()+2*Math.random(),completed:!1,text:e};o({...n,tasks:[...n.tasks,t]})}})]})]})})};var C=function(e){var t;const[d,c]=Object(a.useState)(!1),[s,n]=Object(a.useState)(!1),{id:r,title:i,date:o,tasks:v,labels:O}=e.card;return Object(l.jsxs)(l.Fragment,{children:[s&&Object(l.jsx)(_,{onClose:()=>n(!1),card:e.card,boardId:e.boardId,updateCard:e.updateCard}),Object(l.jsxs)("div",{className:"card",draggable:!0,onDragEnd:()=>e.dragEnded(e.boardId,r),onDragEnter:()=>e.dragEntered(e.boardId,r),onClick:()=>n(!0),children:[Object(l.jsxs)("div",{className:"card_top",children:[Object(l.jsx)("div",{className:"card_top_labels",children:null===O||void 0===O?void 0:O.map(((e,t)=>Object(l.jsx)("label",{style:{backgroundColor:e.color},children:e.text},t)))}),Object(l.jsxs)("div",{className:"card_top_more",onClick:e=>{e.stopPropagation(),c(!0)},children:[Object(l.jsx)(b.a,{}),d&&Object(l.jsx)(u,{class:"board_dropdown",onClose:()=>c(!1),children:Object(l.jsx)("p",{onClick:()=>e.removeCard(e.boardId,r),children:"Delete Card"})})]})]}),Object(l.jsx)("div",{className:"card_title",children:i}),Object(l.jsxs)("div",{className:"card_footer",children:[o&&Object(l.jsxs)("p",{className:"card_footer_item",children:[Object(l.jsx)(j.a,{className:"card_footer_icon"}),(e=>{if(!e)return"";const t=new Date(e);if(!t)return"";return t.getDate()+" "+["Jan","Feb","Mar","Aprl","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()]})(o)]}),v&&(null===v||void 0===v?void 0:v.length)>0&&Object(l.jsxs)("p",{className:"card_footer_item",children:[Object(l.jsx)(x.a,{className:"card_footer_icon"}),null===v||void 0===v||null===(t=v.filter((e=>e.completed)))||void 0===t?void 0:t.length,"/",null===v||void 0===v?void 0:v.length]})]})]})]})};d(34);var N=function(e){var t,d,c,s,n;const[r,o]=Object(a.useState)(!1);return Object(l.jsxs)("div",{className:"board",children:[Object(l.jsxs)("div",{className:"board_header",children:[Object(l.jsxs)("p",{className:"board_header_title",children:[null===(t=e.board)||void 0===t?void 0:t.title,Object(l.jsx)("span",{children:(null===(d=e.board)||void 0===d||null===(c=d.cards)||void 0===c?void 0:c.length)||0})]}),Object(l.jsxs)("div",{className:"board_header_title_more",onClick:()=>o(!0),children:[Object(l.jsx)(b.a,{}),r&&Object(l.jsx)(u,{class:"board_dropdown",onClose:()=>o(!1),children:Object(l.jsx)("p",{onClick:()=>e.removeBoard(),children:"Delete Board"})})]})]}),Object(l.jsxs)("div",{className:"board_cards custom-scroll",children:[null===(s=e.board)||void 0===s||null===(n=s.cards)||void 0===n?void 0:n.map((t=>Object(l.jsx)(C,{card:t,boardId:e.board.id,removeCard:e.removeCard,dragEntered:e.dragEntered,dragEnded:e.dragEnded,updateCard:e.updateCard},t.id))),Object(l.jsx)(i,{text:"+ Add Card",placeholder:"Enter Card Title",displayClass:"board_add-card",editClass:"board_add-card_edit",onSubmit:t=>{var d;return e.addCard(null===(d=e.board)||void 0===d?void 0:d.id,t)}})]})]})};d(15);var g=function(){Object(o.a)();const[e,t]=Object(a.useState)(JSON.parse(localStorage.getItem("prac-kanban"))||[]),[d,c]=Object(a.useState)({bid:"",cid:""}),s=(d,a)=>{const c=e.findIndex((e=>e.id===d));if(c<0)return;const s=[...e];s[c].cards.push({id:Date.now()+2*Math.random(),title:a,labels:[],date:"",tasks:[]}),t(s)},n=(d,a)=>{const c=e.findIndex((e=>e.id===d));if(c<0)return;const s=[...e],n=s[c].cards,r=n.findIndex((e=>e.id===a));r<0||(n.splice(r,1),t(s))},r=(a,s)=>{var n,r,l,i;let o,b,j,x;if(o=e.findIndex((e=>e.id===a)),o<0)return;if(b=null===(n=e[o])||void 0===n||null===(r=n.cards)||void 0===r?void 0:r.findIndex((e=>e.id===s)),b<0)return;if(j=e.findIndex((e=>e.id===d.bid)),j<0)return;if(x=null===(l=e[j])||void 0===l||null===(i=l.cards)||void 0===i?void 0:i.findIndex((e=>e.id===d.cid)),x<0)return;const u=[...e],v=u[o].cards[b];u[o].cards.splice(b,1),u[j].cards.splice(x,0,v),t(u),c({bid:"",cid:""})},b=(e,t)=>{d.cid!==t&&c({bid:e,cid:t})},j=(d,a,c)=>{const s=e.findIndex((e=>e.id===d));if(s<0)return;const n=[...e],r=n[s].cards.findIndex((e=>e.id===a));r<0||(n[s].cards[r]=c,t(n))};return Object(a.useEffect)((()=>{localStorage.setItem("prac-kanban",JSON.stringify(e))}),[e]),Object(l.jsxs)(l.Fragment,{children:["      ",Object(l.jsx)("div",{className:"app_nav",children:Object(l.jsx)("h1",{children:"Kanban Board"})}),Object(l.jsx)("div",{className:"app_boards_container",children:Object(l.jsxs)("div",{className:"app_boards",children:[e.map((d=>Object(l.jsx)(N,{board:d,addCard:s,removeBoard:()=>(d=>{const a=e.findIndex((e=>e.id===d));if(a<0)return;const c=[...e];c.splice(a,1),t(c)})(d.id),removeCard:n,dragEnded:r,dragEntered:b,updateCard:j},d.id))),Object(l.jsx)("div",{className:"app_boards_last",children:Object(l.jsx)(i,{displayClass:"app_boards_add-board",editClass:"app_boards_add-board_edit",placeholder:"Enter Board Name",text:"Add Board",buttonText:"Add Board",onSubmit:d=>{const a=[...e];a.push({id:Date.now()+2*Math.random(),title:d,cards:[]}),t(a)}})})]})})]})};d(9),d(16);var k=function(){return Object(l.jsx)("div",{className:"app",children:Object(l.jsx)(g,{})})};n.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(k,{})}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.7c2b557e.chunk.js.map