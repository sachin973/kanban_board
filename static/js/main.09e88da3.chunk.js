(this["webpackJsonpkanban-board"]=this["webpackJsonpkanban-board"]||[]).push([[0],{17:function(e,a,t){},18:function(e,a,t){},25:function(e,a,t){},26:function(e,a,t){},31:function(e,a,t){},32:function(e,a,t){},33:function(e,a,t){},34:function(e,a,t){},35:function(e,a,t){},42:function(e,a,t){"use strict";t.r(a);var s=t(1),c=t.n(s),d=t(19),l=t.n(d),n=(t(25),t(12)),r=t(3),i=t(43),o=(t(26),t(0));var j=function(e){const[a,t]=Object(s.useState)(!1),[c,d]=Object(s.useState)(e.defaultValue||"");return Object(o.jsx)("div",{className:"editable",children:a?Object(o.jsxs)("form",{className:"editable_edit ".concat(e.editClass?e.editClass:""),onSubmit:a=>{a.preventDefault(),c&&e.onSubmit&&(d(""),e.onSubmit(c)),t(!1)},children:[Object(o.jsx)("input",{type:"text",value:c,placeholder:e.placeholder||e.text,onChange:e=>d(e.target.value),autoFocus:!0}),Object(o.jsxs)("div",{className:"editable_edit_footer",children:[Object(o.jsx)("button",{type:"submit",children:e.buttonText||"Add"}),Object(o.jsx)(i.a,{onClick:()=>t(!1),className:"closeIcon"})]})]}):Object(o.jsx)("p",{className:"editable_display ".concat(e.displayClass?e.displayClass:""),onClick:()=>t(!0),children:e.text})})},b=t(11),u=t(7),x=t.n(u),h=t(50),p=t(51),O=t(48);t(31);var m=function(e){const a=Object(s.useRef)(),t=t=>{var s;!a||null!==(s=a.current)&&void 0!==s&&s.contains(t.target)||!e.onClose||e.onClose()};return Object(s.useEffect)((()=>(document.addEventListener("click",t),()=>{document.removeEventListener("click",t)}))),Object(o.jsx)("div",{ref:a,className:"dropdown custom-scroll ".concat(e.class?e.class:""),children:e.children})},v=(t(32),t(44)),f=t(45),_=t(46),g=t(47),N=t(49);t(33);var C=function(e){return Object(o.jsx)("div",{className:"modal",onClick:()=>e.onClose?e.onClose():"",children:Object(o.jsx)("div",{className:"modal_content custom-scroll",onClick:e=>e.stopPropagation(),children:e.children})})};t(34);var k=function(e){var a,t;const[c,d]=Object(s.useState)(),[l,n]=Object(s.useState)({...e.card}),r=()=>{var e,a,t,s;if(null===(e=l.tasks)||void 0===e||!e.length)return 0;return(null===(a=l.tasks)||void 0===a||null===(t=a.filter((e=>e.completed)))||void 0===t?void 0:t.length)/(null===(s=l.tasks)||void 0===s?void 0:s.length)*100};return Object(s.useEffect)((()=>{e.updateCard&&e.updateCard(e.boardId,l.id,l)}),[l]),Object(o.jsx)(C,{onClose:e.onClose,children:Object(o.jsxs)("div",{className:"cardinfo",children:[Object(o.jsxs)("div",{className:"cardinfo_box",children:[Object(o.jsxs)("div",{className:"cardinfo_box_title",children:[Object(o.jsx)(v.a,{}),Object(o.jsx)("p",{children:"Title"})]}),Object(o.jsx)(j,{defaultValue:l.title,text:l.title,placeholder:"Enter Title",onSubmit:e=>{n({...l,title:e})}})]}),Object(o.jsxs)("div",{className:"cardinfo_box",children:[Object(o.jsxs)("div",{className:"cardinfo_box_title",children:[Object(o.jsx)(f.a,{}),Object(o.jsx)("p",{children:"Description"})]}),Object(o.jsx)(j,{defaultValue:l.desc,text:l.desc||"Add a Description",placeholder:"Enter description",onSubmit:e=>{n({...l,desc:e})}})]}),Object(o.jsxs)("div",{className:"cardinfo_box",children:[Object(o.jsxs)("div",{className:"cardinfo_box_title",children:[Object(o.jsx)(_.a,{}),Object(o.jsx)("p",{children:"Date"})]}),Object(o.jsx)("input",{type:"date",defaultValue:l.date,min:(new Date).toISOString().substr(0,10),onChange:e=>{var a;(a=e.target.value)&&n({...l,date:a})}})]}),Object(o.jsxs)("div",{className:"cardinfo_box",children:[Object(o.jsxs)("div",{className:"cardinfo_box_title",children:[Object(o.jsx)(g.a,{}),Object(o.jsx)("p",{children:"Labels"})]}),Object(o.jsx)("div",{className:"cardinfo_box_labels",children:null===(a=l.labels)||void 0===a?void 0:a.map(((e,a)=>Object(o.jsxs)("label",{style:{backgroundColor:e.color,color:"#fff"},children:[e.text,Object(o.jsx)(i.a,{onClick:()=>(e=>{const a=l.labels.filter((a=>a.text!==e.text));n({...l,labels:a})})(e)})]},a)))}),Object(o.jsx)("ul",{children:["#a8193d","#4fcc25","#1ebffa","#8da377","#9975bd","#cf61a1","#240959"].map(((e,a)=>Object(o.jsx)("li",{style:{backgroundColor:e},className:c===e?"li_active":"",onClick:()=>d(e)},a+e)))}),Object(o.jsx)(j,{text:"Add Label",placeholder:"Enter label text",onSubmit:e=>{return a={color:c,text:e},void(l.labels.findIndex((e=>e.text===a.text))>-1||(d(""),n({...l,labels:[...l.labels,a]})));var a}})]}),Object(o.jsxs)("div",{className:"cardinfo_box",children:[Object(o.jsxs)("div",{className:"cardinfo_box_title",children:[Object(o.jsx)(O.a,{}),Object(o.jsx)("p",{children:"Tasks"})]}),Object(o.jsx)("div",{className:"cardinfo_box_progress-bar",children:Object(o.jsx)("div",{className:"cardinfo_box_progress",style:{width:"".concat(r(),"%"),backgroundColor:100===r()?"limegreen":""}})}),Object(o.jsx)("div",{className:"cardinfo_box_task_list",children:null===(t=l.tasks)||void 0===t?void 0:t.map((e=>Object(o.jsxs)("div",{className:"cardinfo_box_task_checkbox",children:[Object(o.jsx)("input",{type:"checkbox",defaultChecked:e.completed,onChange:a=>((e,a)=>{const t=[...l.tasks],s=t.findIndex((a=>a.id===e));s<0||(t[s].completed=a,n({...l,tasks:t}))})(e.id,a.target.checked)}),Object(o.jsx)("p",{className:e.completed?"completed":"",children:e.text}),Object(o.jsx)(N.a,{onClick:()=>(e=>{const a=[...l.tasks].filter((a=>a.id!==e));n({...l,tasks:a})})(e.id)})]},e.id)))}),Object(o.jsx)(j,{text:"Add a Task",placeholder:"Enter task",onSubmit:e=>{const a={id:Date.now()+2*Math.random(),completed:!1,text:e};n({...l,tasks:[...l.tasks,a]})}})]})]})})};var S=function(e){var a;const[t,c]=Object(s.useState)(!1),[d,l]=Object(s.useState)(!1),{id:n,title:r,date:i,tasks:j,labels:b}=e.card;return Object(o.jsxs)(o.Fragment,{children:[d&&Object(o.jsx)(k,{onClose:()=>l(!1),card:e.card,boardId:e.boardId,updateCard:e.updateCard}),Object(o.jsxs)("div",{className:"card",draggable:!0,onDragEnd:()=>e.dragEnded(e.boardId,n),onDragEnter:()=>e.dragEntered(e.boardId,n),onClick:()=>l(!0),children:[Object(o.jsxs)("div",{className:"card_top",children:[Object(o.jsx)("div",{className:"card_top_labels",children:null===b||void 0===b?void 0:b.map(((e,a)=>Object(o.jsx)("label",{style:{backgroundColor:e.color},children:e.text},a)))}),Object(o.jsxs)("div",{className:"card_top_more",onClick:e=>{e.stopPropagation(),c(!0)},children:[Object(o.jsx)(h.a,{}),t&&Object(o.jsx)(m,{class:"board_dropdown",onClose:()=>c(!1),children:Object(o.jsx)("p",{onClick:()=>e.removeCard(e.boardId,n),children:"Delete Card"})})]})]}),Object(o.jsx)("div",{className:"card_title",children:r}),Object(o.jsxs)("div",{className:"card_footer",children:[i&&Object(o.jsxs)("p",{className:"card_footer_item",children:[Object(o.jsx)(p.a,{className:"card_footer_icon"}),(e=>{if(!e)return"";const a=new Date(e);if(!a)return"";return a.getDate()+" "+["Jan","Feb","Mar","Aprl","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][a.getMonth()]})(i)]}),j&&(null===j||void 0===j?void 0:j.length)>0&&Object(o.jsxs)("p",{className:"card_footer_item",children:[Object(o.jsx)(O.a,{className:"card_footer_icon"}),null===j||void 0===j||null===(a=j.filter((e=>e.completed)))||void 0===a?void 0:a.length,"/",null===j||void 0===j?void 0:j.length]})]})]})]})};t(35);var w=function(e){var a,t,c,d,l;const[n,r]=Object(s.useState)(!1);return Object(o.jsxs)("div",{className:"board",children:[Object(o.jsxs)("div",{className:"board_header",children:[Object(o.jsxs)("p",{className:"board_header_title",children:[null===(a=e.board)||void 0===a?void 0:a.title,Object(o.jsx)("span",{children:(null===(t=e.board)||void 0===t||null===(c=t.cards)||void 0===c?void 0:c.length)||0})]}),Object(o.jsxs)("div",{className:"board_header_title_more",onClick:()=>r(!0),children:[Object(o.jsx)(h.a,{}),n&&Object(o.jsx)(m,{class:"board_dropdown",onClose:()=>r(!1),children:Object(o.jsx)("p",{onClick:()=>e.removeBoard(),children:"Delete Board"})})]})]}),Object(o.jsxs)("div",{className:"board_cards custom-scroll",children:[null===(d=e.board)||void 0===d||null===(l=d.cards)||void 0===l?void 0:l.map((a=>Object(o.jsx)(S,{card:a,boardId:e.board.id,removeCard:e.removeCard,dragEntered:e.dragEntered,dragEnded:e.dragEnded,updateCard:e.updateCard},a.id))),Object(o.jsx)(j,{text:"+ Add Card",placeholder:"Enter Card Title",displayClass:"board_add-card",editClass:"board_add-card_edit",onSubmit:a=>{var t;return e.addCard(null===(t=e.board)||void 0===t?void 0:t.id,a)}})]})]})};t(17);var y=function(){const e=Object(r.f)(),[a,t]=Object(s.useState)(JSON.parse(localStorage.getItem("prac-kanban"))||[]),[c,d]=Object(s.useState)({bid:"",cid:""}),l=(e,s)=>{const c=a.findIndex((a=>a.id===e));if(c<0)return;const d=[...a];d[c].cards.push({id:Date.now()+2*Math.random(),title:s,labels:[],date:"",tasks:[]}),t(d)},n=(e,s)=>{const c=a.findIndex((a=>a.id===e));if(c<0)return;const d=[...a],l=d[c].cards,n=l.findIndex((e=>e.id===s));n<0||(l.splice(n,1),t(d))},i=(e,s)=>{var l,n,r,i;let o,j,b,u;if(o=a.findIndex((a=>a.id===e)),o<0)return;if(j=null===(l=a[o])||void 0===l||null===(n=l.cards)||void 0===n?void 0:n.findIndex((e=>e.id===s)),j<0)return;if(b=a.findIndex((e=>e.id===c.bid)),b<0)return;if(u=null===(r=a[b])||void 0===r||null===(i=r.cards)||void 0===i?void 0:i.findIndex((e=>e.id===c.cid)),u<0)return;const x=[...a],h=x[o].cards[j];x[o].cards.splice(j,1),x[b].cards.splice(u,0,h),t(x),d({bid:"",cid:""})},u=(e,a)=>{c.cid!==a&&d({bid:e,cid:a})},h=(e,s,c)=>{const d=a.findIndex((a=>a.id===e));if(d<0)return;const l=[...a],n=l[d].cards.findIndex((e=>e.id===s));n<0||(l[d].cards[n]=c,t(l))};return Object(s.useEffect)((()=>{localStorage.setItem("prac-kanban",JSON.stringify(a))}),[a]),Object(o.jsxs)(o.Fragment,{children:["      ",Object(o.jsxs)("div",{className:"app_nav",children:[Object(o.jsx)("h1",{children:"Kanban Board"}),Object(o.jsx)(b.a,{className:"app_nav_logout",onClick:()=>{window.localStorage.clear(),e.push("/"),x.a.success("Logout successfully")}})]}),Object(o.jsx)("div",{className:"app_boards_container",children:Object(o.jsxs)("div",{className:"app_boards",children:[a.map((e=>Object(o.jsx)(w,{board:e,addCard:l,removeBoard:()=>(e=>{const s=a.findIndex((a=>a.id===e));if(s<0)return;const c=[...a];c.splice(s,1),t(c)})(e.id),removeCard:n,dragEnded:i,dragEntered:u,updateCard:h},e.id))),Object(o.jsx)("div",{className:"app_boards_last",children:Object(o.jsx)(j,{displayClass:"app_boards_add-board",editClass:"app_boards_add-board_edit",placeholder:"Enter Board Name",text:"Add Board",buttonText:"Add Board",onSubmit:e=>{const s=[...a];s.push({id:Date.now()+2*Math.random(),title:e,cards:[]}),t(s)}})})]})})]})};t(18);var E=function(){const e=Object(r.f)(),[a,t]=Object(s.useState)(""),[c,d]=Object(s.useState)(""),[l,n]=Object(s.useState)(JSON.parse(window.localStorage.getItem("authData"))||{});return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("div",{className:"app_nav",children:[Object(o.jsx)("h1",{children:"Kanban Board"}),Object(o.jsx)(b.a,{className:"app_nav_logout",onClick:()=>{window.localStorage.clear(),e.push("/"),x.a.success("Logout successfully")}})]}),Object(o.jsx)("div",{className:"app_boards_container",children:Object(o.jsxs)("div",{className:"auth_box",children:[Object(o.jsx)("h2",{className:"auth_heading",children:"Login"}),Object(o.jsxs)("label",{className:"auth_label",children:["Email",Object(o.jsx)("span",{children:"*"})]}),Object(o.jsx)("input",{className:"auth_inputs",value:a,type:"text",placeholder:"Enter your registered email",onChange:e=>t(e.target.value)}),Object(o.jsxs)("label",{className:"auth_label",children:["Password",Object(o.jsx)("span",{children:"*"})]}),Object(o.jsx)("input",{className:"auth_inputs",value:c,type:"password",placeholder:"Enter your password",onChange:e=>d(e.target.value)}),Object(o.jsx)("button",{className:"auth_button",onClick:()=>{a&&c?a===l.email&&c===l.password?(e.push("/kanban"),x.a.success("Login successfully")):x.a.error("email or password is wrong"):x.a.error("Please fill in all fields")},children:"Login"}),Object(o.jsxs)("p",{className:"auth_not_registered",children:["Not registered yet? ",Object(o.jsx)("span",{onClick:()=>e.push("/register"),children:"Register"})]})]})})]})};var I=function(){const e=Object(r.f)(),[a,t]=Object(s.useState)(""),[c,d]=Object(s.useState)("");return Object(o.jsxs)(o.Fragment,{children:["      ",Object(o.jsxs)("div",{className:"app_nav",children:[Object(o.jsx)("h1",{children:"Kanban Board"}),Object(o.jsx)(b.a,{className:"app_nav_logout",onClick:()=>{window.localStorage.clear(),e.push("/login"),x.a.success("Logout successfully")}})]}),Object(o.jsx)("div",{className:"app_boards_container",children:Object(o.jsxs)("div",{className:"auth_box",children:[Object(o.jsx)("h2",{className:"auth_heading",children:"Register"}),Object(o.jsxs)("label",{className:"auth_label",children:["Email",Object(o.jsx)("span",{children:"*"})]}),Object(o.jsx)("input",{className:"auth_inputs",value:a,type:"text",placeholder:"Enter your registered email",onChange:e=>t(e.target.value)}),Object(o.jsxs)("label",{className:"auth_label",children:["Password",Object(o.jsx)("span",{children:"*"})]}),Object(o.jsx)("input",{className:"auth_inputs",value:c,type:"password",placeholder:"Enter your password",onChange:e=>d(e.target.value)}),Object(o.jsx)("button",{className:"auth_button",onClick:()=>{if(!a||!c)return void x.a.error("Please fill in all fields");const t={email:a,password:c};window.localStorage.setItem("authData",JSON.stringify(t)),e.push("/kanban")},children:"Register"}),Object(o.jsxs)("p",{className:"auth_not_registered",children:["Already have an account! ",Object(o.jsx)("span",{onClick:()=>e.push("/"),children:"Login"})]})]})})]})};var D=function(){return Object(o.jsxs)("div",{className:"app",children:[Object(o.jsx)(u.Toaster,{}),Object(o.jsx)(n.a,{children:Object(o.jsxs)(r.c,{children:[Object(o.jsx)(r.a,{path:"/login",component:E}),Object(o.jsx)(r.a,{path:"/register",component:I}),Object(o.jsx)(r.a,{path:"/",component:y})]})})]})};l.a.render(Object(o.jsx)(c.a.StrictMode,{children:Object(o.jsx)(D,{})}),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.09e88da3.chunk.js.map